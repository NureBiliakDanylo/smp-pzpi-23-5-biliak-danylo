Харківський національний університет радіоелектроніки
Факультет комп’ютерних наук
Катедра програмної інженерії

ЗВІТ
з лабораторної роботи №3
з дисципліни «Скриптові мови програмування»

Виконав
ст. гр. ПЗПІ-23-5
Біляк Данило

Перевірив
ст. викладач катедри ПІ
Сокорчук Ігор Петрович

Харків 2025


1 ІСТОРІЯ ЗМІН
№	Дата	Версія звіту	Опис змін та виправлень
1	22.05.2025	0.1	Створено розділ «Завдання», «Опис виконаної роботи» та «Висновки»


2 ЗАВДАННЯ
Результатом лабораторної роботи має бути робочий сайт з інтернетмагазином. Він має складатися з таких розділів: 
1. Сторінка товарів. 
2. Сторінка «Кошик». 

Кожна сторінка має складатися з таких частин: 
1. «Шапка» сторінки, 
2. Тіло сторінки. 
3. «Підвал» або Footer сторінки. 

На сторінці товарів необхідно відобразити список доступних для покупки найменувань з можливістю вибрати кількість одиниць товарів і кнопкою «купити». Під час натискання на кнопку «купити», має відправлятися запит (відправка форми, методом POST) на сервер, де дані зберігаються в сесію. На сторінці «Кошик» необхідно відобразити список обраних користувачем товарів (які були збережені у сесію). Якщо ви ще не обрали жодного товару, то має бути відображений напис «Перейти до покупок» (посилання).


3 ОПИС ВИКОНАНОЇ РОБОТИ
Для виконання завдання спочатку потрібно створити базу даних SQLite з якої веб-сторінка буде брати інформацію про товари. Цю задачу можна виконати за допомогою такого коду у файлі db.php:
1 <?php
2 $db = new PDO('sqlite:database.sqlite');
3 $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
4 ?>
Після цього потрібно ініціалізувати базу даних, додавши до неї набір товарів для магазину у файлі init_db.php:
1 <?php
2 $db = new PDO('sqlite:database.sqlite');
3 $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
4 $db->exec("CREATE TABLE IF NOT EXISTS products (
5     id INTEGER PRIMARY KEY AUTOINCREMENT,
6     name TEXT,
7     price REAL
8 )");
9 
10 $db->exec("INSERT INTO products (name, price) VALUES
11     ('Молоко', 35.50),
12     ('Хліб', 20.00),
13     ('Сир', 90.00)
14 ");
15 
16 echo "Базу даних створено.";
17 ?>
Після створення бази даних можна перейти до створення головної сторінки сайту з товарами. Для реалізації використовуються PHP, HTML у файлі index.php: 

Для взаємодії на цій сторінці з базою даних використовується такий фрагмент коду:
2 session_start();
3 require 'db.php';
 4 
 5 if ($_SERVER['REQUEST_METHOD'] === 'POST') {
 6     $id = $_POST['id'];
 7     $qty = (int)$_POST['quantity'];
 8     if ($qty > 0) {
 9         $_SESSION['cart'][$id] = ($_SESSION['cart'][$id] ?? 0) + $qty;
10     }
11 }
12 
13 $products = $db->query("SELECT * FROM products")->fetchAll(PDO::FETCH_ASSOC);
14 ?>

Тепер потрібно створити сторінку кошика з товарами у файлі cart.php. На рисунках 2 та 3 показано вигляд цієї сторінки у пустому та наповненому вигляді.

На цій сторінці існує видалення товарів з кошика, основа цієї функції реалізована таким фрагментом коду cart.php:
  2 session_start();
  3 require 'db.php';
  4 
  5 if (isset($_GET['remove'])) {
  6     $id = $_GET['remove'];
  7     unset($_SESSION['cart'][$id]);
  8     header("Location: cart.php");
  9     exit;
 10 }
 11 
 12 $cart = $_SESSION['cart'] ?? [];
 13 ?>


4 ВИСНОВКИ
Протягом цієї лабораторної роботи ми навчились створювати веб-сторінки за допомогою HTML, PHP та CSS, навчились працювати з базою даних SQLite та використали ці знання для створення веб-сайту магазину.
